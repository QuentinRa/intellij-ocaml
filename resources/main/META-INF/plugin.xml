<idea-plugin>
    <id>intellij-ocaml</id>
    <name>OCaml</name>
    <vendor email="admin@lgs-games.com" url="https://github.com/QuentinRa/intellij-ocaml">QuentinRa</vendor>
    <description><![CDATA[
        The OCaml plugin is providing support for the OCaml language in IntelliJ IDEA, using an opam or
        a native SDK. It is based on both ReasonML, and intellij-rust.]]>
    </description>

    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
     on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.java</depends>

    <resource-bundle>messages.OCamlBundle</resource-bundle>

    <actions>
        <!-- Add your actions here -->
        <!-- Create file -->
        <action id="NewOCamlFile" class="com.ocaml.ide.actions.create.OCamlCreateFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
        <action id="NewOCamlInterface" class="com.ocaml.ide.actions.create.OCamlInterfaceCreateFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <!-- MODULE -->
        <moduleBuilder builderClass="com.ocaml.ide.wizard.OCamlModuleBuilder" order="first"/>
        <moduleType id="OCAML_MODULE" implementationClass="com.ocaml.ide.module.OCamlModuleType"/>
        <moduleConfigurationEditorProvider order="first" implementation="com.ocaml.ide.module.OCamlModuleEditorProvider"/>

        <!-- SDK -->
        <sdkType implementation="com.ocaml.sdk.OCamlSdkType"/>
        <sdkDownload implementation="com.ocaml.sdk.OCamlSdkType"/>
        <projectViewNodeDecorator implementation="com.ocaml.sdk.nodes.OCamlLibraryRootsNodeDecorator"/>
        <treeStructureProvider implementation="com.ocaml.sdk.nodes.OCamlLibraryRootsTreeStructureProvider"/>
        <projectSdkSetupValidator implementation="com.ocaml.sdk.select.OCamlSDKValidator"/>

        <!-- FILES -->
        <fileType extensions="ml" hashBangs="ml" name="OCAML" language="OCAML" fieldName="INSTANCE" implementationClass="com.ocaml.ide.files.OCamlFileType"/>
        <fileType extensions="mli" hashBangs="mli" name="OCAML_INTERFACE" language="OCAML" fieldName="INSTANCE" implementationClass="com.ocaml.ide.files.OCamlInterfaceFileType"/>
        <internalFileTemplate name="OCaml File"/>
        <internalFileTemplate name="OCaml Interface"/>

        <!-- HIGHLIGHT -->
        <lang.syntaxHighlighterFactory language="OCAML" implementationClass="com.ocaml.ide.highlight.OCamlSyntaxHighlighterFactory"/>

        <!-- REPL -->
        <toolWindow factoryClass="com.ocaml.ide.console.OCamlConsoleToolWindowFactory" id="ocaml" anchor="bottom"/>
        <scratch.rootType implementation="com.ocaml.ide.console.OCamlConsoleRootType"/>
    </extensions>
</idea-plugin>